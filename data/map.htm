<html>
<head>
<title>Google Maps Interface</title>
    <link rel="stylesheet" href="libs/leaflet.css"/>
    <link rel="stylesheet" href="../../src/leaflet.draw.css"/>

    <script src="../data/leaflet/leaflet-src.js"></script>

    <script src="../data/leaflet/draw/src/Leaflet.draw.js"></script>
    <script src="../data/leaflet/draw/src/Leaflet.Draw.Event.js"></script>

    <script src="../data/leaflet/draw/rc/edit/handler/Edit.Poly.js"></script>
    <script src="../data/leaflet/draw/rc/edit/handler/Edit.SimpleShape.js"></script>
    <script src="../data/leaflet/draw/rc/edit/handler/Edit.Rectangle.js"></script>
    <script src="../data/leaflet/draw/rc/edit/handler/Edit.Marker.js"></script>
  	<script src="../data/leaflet/draw/rc/edit/handler/Edit.CircleMarker.js"></script>
  	<script src="../data/leaflet/draw/rc/edit/handler/Edit.Circle.js"></script>

    <script src="../data/leaflet/draw/rc/draw/handler/Draw.Feature.js"></script>
    <script src="../data/leaflet/draw/rc/draw/handler/Draw.Polyline.js"></script>
    <script src="../data/leaflet/draw/rc/draw/handler/Draw.Polygon.js"></script>
    <script src="../data/leaflet/draw/rc/draw/handler/Draw.SimpleShape.js"></script>
    <script src="../data/leaflet/draw/rc/draw/handler/Draw.Rectangle.js"></script>
    <script src="../data/leaflet/draw/rc/draw/handler/Draw.Circle.js"></script>
    <script src="../data/leaflet/draw/rc/draw/handler/Draw.Marker.js"></script>
    <script src="../data/leaflet/draw/rc/draw/handler/Draw.CircleMarker.js"></script>

    <script src="../data/leaflet/draw/rc/ext/TouchEvents.js"></script>
    <script src="../data/leaflet/draw/rc/ext/LatLngUtil.js"></script>
    <script src="../data/leaflet/draw/rc/ext/GeometryUtil.js"></script>
    <script src="../data/leaflet/draw/rc/ext/LineUtil.Intersect.js"></script>
    <script src="../data/leaflet/draw/rc/ext/Polyline.Intersect.js"></script>
    <script src="../data/leaflet/draw/rc/ext/Polygon.Intersect.js"></script>

    <script src="../data/leaflet/draw/rc/Control.Draw.js"></script>
    <script src="../data/leaflet/draw/rc/Tooltip.js"></script>
    <script src="../data/leaflet/draw/rc/Toolbar.js"></script>

    <script src="../data/leaflet/draw/rc/draw/DrawToolbar.js"></script>
    <script src="../data/leaflet/draw/rc/edit/EditToolbar.js"></script>
    <script src="../data/leaflet/draw/rc/edit/handler/EditToolbar.Edit.js"></script>
    <script src="../data/leaflet/draw/rc/edit/handler/EditToolbar.Delete.js"></script>
</head>
<body>
<div id="map"></div>
<script>
    var mbl = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
     maxZoom: 18,
     attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
     '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
     'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
     id: 'mapbox.streets'
    });
    var map = new L.Map('map', {layers: [mbl], center: new L.LatLng(43.62455, -113.2971), zoom: 8});
    var mbrLayer = new L.FeatureGroup();
    map.addLayer(mbrLayer);

    var drawControl = new L.Control.Draw({
        position: 'topright',
        draw: {
            polyline: false,
            polygon: false,
            circle: false,
            marker: false,
            circlemarker: false,
            rectangle: true
        },
        edit: {
         featureGroup: mbrLayer,
         remove: true
        }
    });
    map.addControl(drawControl);

    map.on(L.Draw.Event.DRAWSTART, function (e) {
        mbrLayer.clearLayers();
    });

    map.on(L.Draw.Event.CREATED, function (e) {
        console.log(e.layer._bounds);
        mbrLayer.addLayer(e.layer);
        map.addLayer(mbrLayer);
    });
</script>

</body>
</html>
